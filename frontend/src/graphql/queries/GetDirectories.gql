# import ./fragments/ImageFragment.gql

query GetDirectories($id: ID, $includeStats: Boolean = true) {
  directory(id: $id) {
    id
    parentId
    path
    root
    stats @include(if: $includeStats) {
      imageCount
      subdirectoryCount
      latestImage {
        ...ImageFragment
        currentRating
        xmpExists
      }
      ratingCounts {
        rating
        count
      }
    }
    directories {
      id
      parentId
      path
      root
      stats @include(if: $includeStats) {
        imageCount
        subdirectoryCount
        latestImage {
          ...ImageFragment
          currentRating
          xmpExists
        }
        ratingCounts {
          rating
          count
        }
      }
    }
  }
}
